tests:
  - description: Alias generated from collection name if not provided
    current_db: foo
    query: "SELECT * FROM bar"
    result: "SELECT * FROM bar AS bar"

  - description: Alias generated from collection name if not provided, even with database
    query: "SELECT * FROM foo.bar"
    result: "SELECT * FROM foo.bar AS bar"

  - description: Alias generated from field name if not provided
    query: "SELECT * FROM foo.bar AS x, x.foo"
    result: "SELECT * FROM foo.bar AS x, x.foo AS foo"

  - description: Alias generated from array index if not provided
    query: "SELECT * FROM foo.coll.bar[0]"
    result: "SELECT * FROM foo.coll.bar[0] AS `bar[0]`"

  - description: Alias generated for literal array
    query: "SELECT * FROM [1,2,3,4]"
    result: "SELECT * FROM [1,2,3,4] AS _2"
