tests:
  - name: "$lookup when FromDB = the current DB, should remove FromDB name"
    skip_reason: "SQL-1259: Rewrite getSimplifyLookups"
    input:
      - {
        "$lookup":
          {
            "from": { "db": "currentDBName", "coll": "bar" },
            "pipeline": [],
            "as": "baz",
          },
      }
    expected:
      - { "$lookup": { "from": "bar", "pipeline": [], "as": "baz" } }

  - name: "$lookup when FromDB != the current DB, should be maintained"
    skip_reason: "SQL-1259: Rewrite getSimplifyLookups"
    input:
      - {
        "$lookup":
          {
            "from": { "db": "notCurrentDBName", "coll": "bar" },
            "pipeline": [],
            "as": "baz",
          },
      }
    expected:
      - {
        "$lookup":
          {
            "from": { "db": "notCurrentDBName", "coll": "bar" },
            "pipeline": [],
            "as": "baz",
          },
      }
